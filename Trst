
echo "🔎 Vérification des variables définies dans $VAR_FILE..."
echo "👉 Recherche dans : $SCRIPTS_DIR"

# Récupération des variables exportées (avec ou sans =)
VARS=$(grep -oP '^[[:space:]]*export[[:space:]]+\K[[:alnum:]_]+' "$VAR_FILE")

for var in $VARS; do
    if grep -R --exclude="$VAR_FILE" "$var" "$SCRIPTS_DIR" >/dev/null 2>&1; then
        echo "✔️ $var est utilisé"
    else
        echo "⚠️ $var n'est pas utilisé"
    fi
done





echo "🔎 Vérification des variables définies dans $VAR_FILE..."
echo "👉 Recherche dans : $SCRIPTS_DIR"

# Récupération des variables exportées
VARS=$(grep -oP '^[[:space:]]*export[[:space:]]+\K[[:alnum:]_]+' "$VAR_FILE")

for var in $VARS; do
    if grep -R --exclude="$VAR_FILE" "$var" "$SCRIPTS_DIR" >/dev/null 2>&1; then
        echo "✔️ $var est utilisé"
    else
        echo "⚠️ $var n'est pas utilisé"
    fi
done




echo "🔎 Vérification des variables définies dans $VAR_FILE"
echo "👉 Recherche dans : $SCRIPTS_DIR"
echo

# 📌 Récupérer toutes les variables exportées (avec ou sans '=')
VARS=$(grep -oP '^[[:space:]]*export[[:space:]]+\K[[:alnum:]_]+' "$VAR_FILE")

# 📌 Vérification de l’utilisation
for var in $VARS; do
    if grep -rI -F --exclude="$VAR_FILE" --exclude-dir=.git --exclude-dir=node_modules "$var" "$SCRIPTS_DIR" >/dev/null; then
        echo "✔️ $var est utilisé"
    else
        echo "⚠️ $var n'est pas utilisé"
    fi
done
